<% messages.each do |message| %>
  <% if message.role == "user" %>
    <div class="d-flex justify-content-end mb-2">
      <div class="bg-white px-3 pb-0 pt-3 rounded-pill">
        <%= raw(render_markdown(message.content)) %>
      </div>

      <% if message.file.attached? %>
        <div class="ps-3 pt-1">
          <strong>File:</strong>
          <%= link_to message.file.filename, rails_blob_path(message.file, disposition: "attachment") %>
        </div>
      <% end %>

    </div>
  <% elsif message.role == "assistant" %>
    <div class="d-flex justify-content-start mb-4">
      <div class="px-3 pb-0 pt-3">
        <div class='duck-message-text'>
          <%= image_tag "duck-test.png", alt: "logo", style: 'height:30px;width:30px;' %>
          <%= raw(render_markdown(message.content)) %>
        </div>
      </div>
    </div>
  <% end %>
<% end %>
